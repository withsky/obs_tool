# OBS下载工具 - Windows用户快速入门指南

> **专为非技术人员编写，5分钟上手！**

---

## 🎯 您需要知道的三件事

1. **这个工具是做什么的？**
   - 帮你从公司的网络硬盘（OBS）下载文件到Linux服务器
   - Windows电脑不能直接访问OBS，需要通过Linux服务器中转

2. **需要什么条件？**
   - Windows 10或11电脑
   - 能访问公司内网（连接服务器 10.155.106.228）
   - 无需编程知识，图形界面操作

3. **文件下载到哪里？**
   - 文件最终保存在Linux服务器上：`/railway-efs/000-tfds/`
   - 你需要SSH登录服务器才能查看文件

---

## 📦 安装步骤（只需一次）

### 方式一：使用EXE版本（推荐，无需Python）

1. **获取安装包**
   - 从管理员处获取：`OBS下载工具.zip`
   - 解压到任意位置，如 `D:\工具\OBS下载工具\`

2. **配置文件（首次使用）**
   - 双击运行 `config_wizard.bat`
   - 按提示输入：
     - 服务器地址：`10.155.106.228`
     - 用户名：`dl`
     - 密码：`tfds#2025`
   - 完成配置

3. **运行程序**
   - 双击 `OBS下载工具.exe`
   - 等待连接服务器（约3秒）
   - 看到主界面即成功！

### 方式二：使用Python版本（需要Python环境）

1. **安装Python**
   - 访问 https://www.python.org/downloads/
   - 下载Python 3.8或更高版本
   - 安装时勾选 **"Add Python to PATH"**

2. **安装依赖**
   ```bash
   pip install paramiko
   ```

3. **配置文件**
   - 双击 `config_wizard.bat` 进行配置

4. **运行程序**
   - 双击 `start.bat`

---

## 🚀 使用教程

### 第一步：打开程序

双击 `OBS下载工具.exe` 或 `start.bat`

等待显示主界面：
```
┌─────────────────────────────────────────────────┐
│  ☁️ OBS下载工具                           🌐 📥 │
├──────────────────┬──────────────────────────────┤
│  📊 统计概览      │  📋 下载任务                   │
│  ▶️ 运行中: 0     │                              │
│  ⏳ 待处理: 0     │   暂无任务                    │
│  ✅ 已完成: 0     │                              │
└──────────────────┴──────────────────────────────┘
```

### 第二步：浏览并下载文件

#### 方法A：通过文件浏览器（推荐）

1. 点击右上角 **"🌐 浏览文件"** 按钮
2. 在弹出的窗口中查看文件列表
3. 单击选中要下载的文件
4. 点击底部 **"📥 下载选中"**
5. 在主界面查看下载进度

**💡 小技巧**：
- **双击文件** = 直接下载
- **双击文件夹** = 进入文件夹
- **时间过滤** = 只显示某个日期后的文件

#### 方法B：直接输入路径

1. 点击右上角 **"📥 新建下载"** 按钮
2. 输入OBS文件路径，如：`data/project/backup.zip`
3. 点击 **"✓ 开始下载"**

### 第三步：查看下载进度

在主界面的 **"下载任务"** 区域可以看到：
- 文件名
- 状态（等待中/下载中/已完成）
- 进度百分比
- 文件大小

**操作按钮**：
- **⏸ 暂停**：暂停下载（可继续）
- **▶ 继续**：恢复下载
- **✕ 取消**：取消下载

---

## 📂 如何批量下载整个文件夹

### 场景
你需要下载 `project_data` 文件夹中的所有文件

### 步骤

1. 点击 **"🌐 浏览文件"**
2. 找到并 **单击** `project_data` 文件夹
3. 点击底部 **"☁️ 同步文件夹"**
4. 选择是否应用时间过滤：
   - **不过滤**：下载文件夹中所有文件
   - **只下载某个日期后的文件**：避免下载旧文件
5. 点击确认
6. 系统会自动为每个文件创建下载任务

**⚠️ 注意**：
- 批量下载会创建多个任务
- 最多同时下载5个文件（并发限制）
- 其他文件会自动排队等待

---

## ⏰ 时间过滤功能详解

### 什么是时间过滤？

只下载**某个日期之后修改过**的文件，避免下载过时的旧文件。

### 使用示例

**场景1**：只下载本周更新的文件
1. 在文件浏览器底部找到 **"只显示晚于"**
2. 输入日期：`2024-01-15`（本周一）
3. 点击 **"🔍 筛选"**
4. 文件列表只显示该日期后修改的文件
5. 选择要下载的文件

**场景2**：下载某个项目2024年的所有数据
1. 进入 `project_data/2024/` 文件夹
2. 筛选条件设为 `2024-01-01`
3. 点击 **"☁️ 同步文件夹"**
4. 只下载2024年的文件

---

## 🔍 断点续传功能

### 什么是断点续传？

下载大文件时，如果网络中断或程序关闭，**不需要重新开始**，可以从断点继续下载。

### 自动使用，无需操作

- 下载中断后，任务状态变为 **"已暂停"**
- 点击任务的 **"▶ 继续"** 按钮
- 自动从上次中断的地方继续下载

**💡 好处**：
- 节省时间和流量
- 适合下载大文件（>1GB）
- 网络不稳定也能安心下载

---

## 👥 多人协作说明

### 一个团队使用

- 所有用户共享**同一个任务列表**
- A用户创建的任务，B用户也能看到
- 所有人都能看到实时进度
- 最大并发5个任务（自动排队）

### 示例场景

**用户A** 创建了一个下载任务 → **用户B** 可以看到并取消它 → **用户C** 可以看到历史记录

---

## ❓ 常见问题速查

### Q: 提示"连接失败"怎么办？

**检查**：
1. 能否ping通服务器？
   - 按 `Win+R`，输入 `cmd`
   - 输入：`ping 10.155.106.228`
   - 如果失败，联系网管

2. 密码是否正确？
   - 运行 `config_wizard.bat` 重新配置

### Q: 下载速度很慢？

**可能原因**：
- 文件本身较小（显示不准确，正常现象）
- 服务器网络带宽限制
- 同时下载的任务太多

**解决**：等待或稍后再试

### Q: 文件下载到哪里了？

**位置**：Linux服务器的 `/railway-efs/000-tfds/` 目录

**查看方法**（需要SSH登录）：
```bash
ssh dl@10.155.106.228
ls -la /railway-efs/000-tfds/
```

### Q: 可以同时下载多少个文件？

**最多5个**同时下载，其他自动排队。

### Q: 关闭程序后下载会停止吗？

**不会！**
- 下载任务在Linux服务器上运行
- 关闭Windows程序只是断开连接
- 重新打开程序可以看到进度更新

### Q: 如何暂停所有下载？

**方法1**：逐个点击任务的暂停按钮  
**方法2**：联系管理员停止Linux服务

### Q: 下载的文件不完整？

**解决**：
1. 找到该任务，点击 **"▶ 继续"**（断点续传）
2. 如果还是失败，删除任务重新下载

---

## 📞 获取帮助

如有问题：
1. 查看详细文档：`README.md`
2. 联系系统管理员
3. 查看日志文件：`logs/daemon.log`（管理员）

---

## 🎓 高级技巧

### 1. 快速访问常用文件夹

将常用路径添加到收藏夹：
1. 在文件浏览器中进入该文件夹
2. 点击收藏（功能开发中）

### 2. 查看下载历史

点击菜单栏 **"任务" → "查看历史记录"**

### 3. 搜索文件

在文件浏览器中：
1. 在搜索框输入关键词
2. 自动过滤显示匹配的文件

---

## ✅ 使用检查清单

- [ ] 已解压到合适位置
- [ ] 已运行配置向导
- [ ] 能成功连接服务器
- [ ] 知道如何浏览和下载文件
- [ ] 知道如何查看下载进度
- [ ] 了解断点续传功能
- [ ] 知道文件保存在哪里

---

**祝您使用愉快！** 🎉

如有任何问题，请及时联系管理员。

---

**文档版本**：v1.0  
**最后更新**：2024年1月
